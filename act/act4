Perfecto ğŸ’ªğŸ”¥ entonces lo hacemos profesional:

ğŸ‘‰ **2 mÃ¡quinas virtuales con Red Hat 10**
ğŸ‘‰ Red interna en VirtualBox
ğŸ‘‰ IP estÃ¡tica
ğŸ‘‰ Servicios + seguridad + NFS + P2P

Te lo estructuro listo para que lo ejecutes y documentes.

---

# ğŸ”µ PARTE 1 â€” DISEÃ‘O DE RED (2 RED HAT 10)

---

## ğŸ“Œ ConfiguraciÃ³n en VirtualBox

En ambas mÃ¡quinas:

1. Apagar VM
2. ConfiguraciÃ³n â†’ Red
3. Adaptador 1:

   * Tipo: **Red Interna**
   * Nombre: `red-lab`

Esto crea una red privada entre las dos.

---

# ğŸ“Š ESQUEMA DE RED

```
                RED INTERNA 192.168.50.0/24

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                              â”‚
   RedHat-1                        RedHat-2
  192.168.50.10                   192.168.50.20
        â”‚                              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€ Switch Virtual â”€â”€â”€â”€â”€â”€â”˜
```

---

# ğŸ§  Modelo OSI aplicado a tu red

### 1ï¸âƒ£ FÃ­sica

Hardware virtual de VirtualBox.

### 2ï¸âƒ£ Enlace

Tarjetas virtuales con MAC Ãºnicas.

### 3ï¸âƒ£ Red

IP estÃ¡tica:

* RH1 â†’ 192.168.50.10
* RH2 â†’ 192.168.50.20

### 4ï¸âƒ£ Transporte

TCP:

* SSH â†’ puerto 22
* HTTP â†’ puerto 80
* HTTPS â†’ puerto 443

### 5ï¸âƒ£ SesiÃ³n

Mantiene activa la conexiÃ³n SSH.

### 6ï¸âƒ£ PresentaciÃ³n

Cifrado TLS en HTTPS.

### 7ï¸âƒ£ AplicaciÃ³n

Servicios:

* SSH
* Apache
* NFS
* BitTorrent

---

# ğŸ”µ CONFIGURACIÃ“N DE IP ESTÃTICA

---

## En RedHat-1

Ver nombre de conexiÃ³n:

```bash
nmcli con show
```

Supongamos que se llama:

`System eth0`

Configurar IP:

```bash
sudo nmcli con mod "System eth0" ipv4.addresses 192.168.50.10/24
sudo nmcli con mod "System eth0" ipv4.method manual
sudo nmcli con up "System eth0"
```

---

## En RedHat-2

```bash
sudo nmcli con mod "System eth0" ipv4.addresses 192.168.50.20/24
sudo nmcli con mod "System eth0" ipv4.method manual
sudo nmcli con up "System eth0"
```

---

# ğŸ” Verificar conectividad

Desde RH1:

```bash
ping 192.168.50.20
```

Desde RH2:

```bash
ping 192.168.50.10
```

Traceroute:

```bash
traceroute 192.168.50.20
```

Debe mostrar 1 salto.

---

# ğŸ”µ INSTALACIÃ“N DE SERVICIOS

---

# ğŸ” SSH

En ambas mÃ¡quinas:

```bash
sudo dnf install openssh-server -y
sudo systemctl enable sshd
sudo systemctl start sshd
```

Probar conexiÃ³n:

Desde RH1:

```bash
ssh usuario@192.168.50.20
```

---

# ğŸŒ APACHE (HTTP)

En ambas:

```bash
sudo dnf install httpd -y
sudo systemctl enable httpd
sudo systemctl start httpd
```

Crear pÃ¡gina en RH1:

```bash
echo "Servidor RedHat 1 funcionando" | sudo tee /var/www/html/index.html
```

Probar desde RH2:

```bash
curl http://192.168.50.10
```

---

# ğŸ”µ PARTE 2 â€” SEGURIDAD

---

# ğŸ”¥ FIREWALL (firewalld)

En ambas mÃ¡quinas:

Permitir SSH:

```bash
sudo firewall-cmd --permanent --add-service=ssh
```

Permitir HTTP:

```bash
sudo firewall-cmd --permanent --add-service=http
```

Recargar:

```bash
sudo firewall-cmd --reload
```

Ver reglas:

```bash
sudo firewall-cmd --list-all
```

---

# ğŸ”‘ SSH CON CLAVES

En RH1:

```bash
ssh-keygen
ssh-copy-id usuario@192.168.50.20
```

Deshabilitar contraseÃ±a:

```bash
sudo nano /etc/ssh/sshd_config
```

Cambiar:

```
PasswordAuthentication no
```

Reiniciar:

```bash
sudo systemctl restart sshd
```

---

# ğŸ”’ HTTPS (Certificado Autofirmado)

Generar certificado en RH1:

```bash
sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
-keyout /etc/pki/tls/private/apache.key \
-out /etc/pki/tls/certs/apache.crt
```

Editar:

```bash
sudo nano /etc/httpd/conf.d/ssl.conf
```

Configurar rutas del certificado.

Reiniciar:

```bash
sudo systemctl restart httpd
```

Probar:

```
https://192.168.50.10
```

---

# ğŸ” AnÃ¡lisis con Nmap

Instalar en RH2:

```bash
sudo dnf install nmap -y
```

Escanear RH1:

```bash
nmap 192.168.50.10
```

Ejemplo vulnerabilidades:

1ï¸âƒ£ Puertos innecesarios abiertos
2ï¸âƒ£ SSH permite login root
3ï¸âƒ£ Apache muestra versiÃ³n

Soluciones:

* Cerrar puertos
* `PermitRootLogin no`
* `ServerTokens Prod`

---

# ğŸ”µ PARTE 3 â€” SISTEMA DISTRIBUIDO (NFS)

---

## En RH1 (Servidor NFS)

```bash
sudo dnf install nfs-utils -y
sudo mkdir /compartido
sudo chmod 777 /compartido
```

Editar:

```bash
sudo nano /etc/exports
```

Agregar:

```
/compartido 192.168.50.20(rw,sync,no_root_squash)
```

Iniciar:

```bash
sudo systemctl enable nfs-server
sudo systemctl start nfs-server
```

---

## En RH2 (Cliente)

```bash
sudo dnf install nfs-utils -y
sudo mount 192.168.50.10:/compartido /mnt
```

Probar:

```bash
touch /mnt/prueba.txt
```

---

# ğŸ” MODELO P2P

Instalar:

```bash
sudo dnf install transmission-cli -y
```

Crear archivo:

```bash
echo "Archivo P2P RedHat" > archivo.txt
```

Crear torrent:

```bash
transmission-create archivo.txt
```

Descargar desde la otra mÃ¡quina:

```bash
transmission-cli archivo.txt.torrent
```

---

# ğŸ“Œ Â¿QuÃ© hacemos ahora?

Puedo:

1ï¸âƒ£ Prepararte el reporte formal listo para entregar
2ï¸âƒ£ Hacer el diagrama profesional tipo examen
3ï¸âƒ£ Ir ejecutÃ¡ndolo contigo paso a paso
4ï¸âƒ£ Simular preguntas que podrÃ­an hacerte en defensa oral

TÃº dime cuÃ¡l y lo armamos bien nivel universitario ğŸ”¥
